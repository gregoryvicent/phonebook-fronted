(this["webpackJsonpphonebook-frontend"]=this["webpackJsonpphonebook-frontend"]||[]).push([[0],{15:function(e,t,n){},23:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(16),o=n.n(a),r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))},s=n(8),i=n(2),u=n(4),j=n.p+"static/media/user.178d03ca.png",h=(n(23),n(0));function l(e){return Object(h.jsxs)("div",{className:"Card",children:[Object(h.jsx)("figure",{children:Object(h.jsx)("img",{src:j,alt:"Usuario",className:"Card-img"})}),Object(h.jsxs)("h3",{className:"Card-name",children:["Nombre: ",e.name]}),Object(h.jsxs)("p",{children:["Tel\xe9fono: ",e.phone]}),Object(h.jsxs)("div",{className:"Card-buttonBox",children:[Object(h.jsx)(s.b,{to:"/update/contact/".concat(e.id),className:"Card-updateBt",children:"Actualizar"}),Object(h.jsx)("button",{onClick:e.deleteMethod,className:"Card-deleteBt",children:"Eliminar"})]})]})}n(30);function d(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(!1),r=Object(u.a)(o,2),s=r[0],i=r[1],j=function(){fetch("https://phonebook-backend-gv.herokuapp.com/api").then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){return a(e)})).catch((function(e){return a({error:e,status:!0,message:"Ocurrio un error al solicitar los datos."})}))};return Object(c.useEffect)((function(){return j()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Home"}),Object(h.jsx)("div",{className:"Home-cardsSection",children:s?Object(h.jsx)("h2",{className:"Home-message",children:s.message}):n.length?n.map((function(e){return Object(h.jsx)(l,{id:e.id,name:e.name,phone:e.phone,deleteMethod:function(){return t=e.id,void fetch("https://phonebook-backend-gv.herokuapp.com/api/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return j()})).catch((function(e){return i({error:e,status:!0,message:"Ocurrio un error al solicitar los datos."})}));var t}},e.id)})):Object(h.jsx)("h2",{className:"Home-message",children:"No hay Contactos"})})]})}n(31);function b(e){return Object(h.jsx)("div",{className:"Message",children:Object(h.jsx)("p",{className:"Message-text",children:e.text})})}n(15);function m(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(u.a)(o,2),s=r[0],i=r[1],j=Object(c.useState)(!1),l=Object(u.a)(j,2),d=l[0],m=l[1],p=Object(c.useState)(null),O=Object(u.a)(p,2),f=O[0],x=O[1];return Object(c.useEffect)((function(){return function(){clearTimeout(f)}}),[f]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"Form",children:[Object(h.jsxs)("div",{className:"Form-div",children:[Object(h.jsx)("label",{htmlFor:"name",children:"Name"}),Object(h.jsx)("input",{className:"Form-input",type:"text",id:"name",onChange:function(e){return a(e.target.value)},value:n,required:!0})]}),Object(h.jsxs)("div",{className:"Form-div",children:[Object(h.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(h.jsx)("input",{className:"Form-input",type:"text",id:"phone",onChange:function(e){return i(e.target.value)},value:s,required:!0})]}),Object(h.jsx)("button",{className:"Form-submit",onClick:function(e){e.preventDefault(),fetch("https://phonebook-backend-gv.herokuapp.com/api").then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){var t={id:(parseInt(e.pop().id)+1).toString(),name:n,phone:s},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://phonebook-backend-gv.herokuapp.com/api",c).then((function(e){return e.json()})).then((function(e){"200"===e.status&&m(!0)})).then((function(){x(setTimeout((function(){m(!1)}),4e3))}))}))},children:"Add"})]}),d?Object(h.jsx)(b,{text:"Contacto agregado con exito"}):Object(h.jsx)(h.Fragment,{})]})}function p(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Add"}),Object(h.jsx)(m,{})]})}function O(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(u.a)(o,2),s=r[0],i=r[1],j=Object(c.useState)(""),l=Object(u.a)(j,2),d=l[0],m=l[1],p=Object(c.useState)(!1),O=Object(u.a)(p,2),f=O[0],x=O[1],g=Object(c.useState)(null),v=Object(u.a)(g,2),N=v[0],F=v[1];return Object(c.useEffect)((function(){var e=new AbortController,t=e.signal,n=window.location.toString().split("/").pop();return fetch("https://phonebook-backend-gv.herokuapp.com/api/".concat(n),{signal:t}).then((function(e){return e.json()})).then((function(e){m(e.id),a(e.name),i(e.phone)})).catch((function(e){return console.log(e)})),function(){e.abort()}}),[]),Object(c.useEffect)((function(){return function(){clearTimeout(N)}}),[N]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"Form",children:[Object(h.jsxs)("div",{className:"Form-div",children:[Object(h.jsx)("label",{htmlFor:"name",children:"Name"}),Object(h.jsx)("input",{className:"Form-input",type:"text",id:"name",onChange:function(e){return a(e.target.value)},value:n,required:!0})]}),Object(h.jsxs)("div",{className:"Form-div",children:[Object(h.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(h.jsx)("input",{className:"Form-input",type:"text",id:"phone",onChange:function(e){return i(e.target.value)},value:s,required:!0})]}),Object(h.jsx)("button",{className:"Form-submit",onClick:function(e){e.preventDefault();var t={id:d,name:n,phone:s},c={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://phonebook-backend-gv.herokuapp.com/api/".concat(d),c).then((function(e){return e.json()})).then((function(e){"200"===e.status&&x(!0)})).then((function(){F(setTimeout((function(){x(!1)}),4e3))})).catch((function(e){console.log(e)}))},children:"Update"})]}),f?Object(h.jsx)(b,{text:"Contacto actualizado con exito"}):Object(h.jsx)(h.Fragment,{})]})}function f(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Update"}),Object(h.jsx)(O,{})]})}n(32);function x(){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{className:"header-nav",children:[Object(h.jsx)("li",{className:"header-item",children:Object(h.jsx)(s.b,{to:"/",children:"Home"})}),Object(h.jsx)("li",{className:"header-item",children:Object(h.jsx)(s.b,{to:"/add",children:"Agregar"})})]})})})}function g(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x,{}),Object(h.jsx)("section",{children:e.children})]})}n(33);function v(){return Object(h.jsx)(s.a,{children:Object(h.jsx)(g,{children:Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{exact:!0,path:"/",component:d}),Object(h.jsx)(i.a,{exact:!0,path:"/add",component:p}),Object(h.jsx)(i.a,{path:"/update",component:f})]})})})}o.a.render(Object(h.jsx)(v,{}),document.getElementById("root")),r()}},[[34,1,2]]]);
//# sourceMappingURL=main.7bc88401.chunk.js.map